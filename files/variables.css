/* ============================================
   MimiTask — Design Tokens (variables.css)
   Source de vérité pour tous les styles du projet.
   Aucune valeur magique en dehors de ce fichier.
   ============================================ */

:root {
  /* ─── Couleurs principales ─── */
  --color-primary:          #2D6A4F;
  --color-primary-light:    #52B788;
  --color-primary-dark:     #1B4332;
  --color-primary-hover:    #245A42;
  --color-primary-active:   #1B4332;
  --color-primary-ghost:    rgba(45, 106, 79, 0.08);
  --color-primary-ghost-hover: rgba(45, 106, 79, 0.14);

  /* ─── Couleurs secondaires ─── */
  --color-secondary:        #F4A261;
  --color-secondary-light:  #F7C59F;
  --color-secondary-dark:   #E07B30;
  --color-secondary-hover:  #E8933F;
  --color-secondary-active: #D47E2A;

  /* ─── Gamification ─── */
  --color-points:           #E9C46A;
  --color-points-bg:        rgba(233, 196, 106, 0.15);
  --color-streak:           #E76F51;
  --color-streak-bg:        rgba(231, 111, 81, 0.12);
  --color-reward:           #7209B7;
  --color-reward-light:     #9D4EDD;
  --color-reward-bg:        rgba(114, 9, 183, 0.08);

  /* ─── Sémantiques (feedback) ─── */
  --color-success:          #2D6A4F;
  --color-success-bg:       rgba(45, 106, 79, 0.08);
  --color-error:            #DC3545;
  --color-error-bg:         rgba(220, 53, 69, 0.08);
  --color-error-light:      #F8D7DA;
  --color-warning:          #F4A261;
  --color-warning-bg:       rgba(244, 162, 97, 0.10);
  --color-info:             #3B82F6;
  --color-info-bg:          rgba(59, 130, 246, 0.08);

  /* ─── Neutres ─── */
  --color-bg:               #FAFAFA;
  --color-surface:          #FFFFFF;
  --color-surface-hover:    #F5F5F5;
  --color-surface-active:   #EEEEEE;
  --color-text:             #1A1A2E;
  --color-text-secondary:   #6B7280;
  --color-text-tertiary:    #9CA3AF;
  --color-text-inverse:     #FFFFFF;
  --color-border:           #E5E7EB;
  --color-border-strong:    #D1D5DB;
  --color-divider:          #F0F0F0;
  --color-overlay:          rgba(0, 0, 0, 0.45);

  /* ─── Partenaires (dashboard) ─── */
  --color-partner-a:        #2D6A4F;
  --color-partner-a-light:  rgba(45, 106, 79, 0.12);
  --color-partner-b:        #E76F51;
  --color-partner-b-light:  rgba(231, 111, 81, 0.12);

  /* ─── Typographie ─── */
  --font-family:            'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  --font-weight-normal:     400;
  --font-weight-medium:     500;
  --font-weight-semibold:   600;
  --font-weight-bold:       700;

  /* Échelle typographique */
  --font-size-xs:           0.75rem;    /* 12px */
  --font-size-sm:           0.875rem;   /* 14px */
  --font-size-base:         1rem;       /* 16px */
  --font-size-lg:           1.125rem;   /* 18px */
  --font-size-xl:           1.25rem;    /* 20px */
  --font-size-2xl:          1.5rem;     /* 24px */
  --font-size-3xl:          2rem;       /* 32px */

  /* Line heights */
  --line-height-tight:      1.2;
  --line-height-normal:     1.5;
  --line-height-relaxed:    1.65;

  /* Letter spacing */
  --letter-spacing-tight:   -0.02em;
  --letter-spacing-normal:  0;
  --letter-spacing-wide:    0.02em;
  --letter-spacing-caps:    0.06em;

  /* ─── Espacements (base 4px) ─── */
  --space-2xs:              2px;
  --space-xs:               4px;
  --space-sm:               8px;
  --space-md:               16px;
  --space-lg:               24px;
  --space-xl:               32px;
  --space-2xl:              48px;
  --space-3xl:              64px;

  /* ─── Bordures & Rayons ─── */
  --radius-xs:              4px;
  --radius-sm:              8px;
  --radius-md:              12px;
  --radius-lg:              16px;
  --radius-xl:              20px;
  --radius-full:            9999px;

  --border-width:           1px;
  --border-width-strong:    2px;

  /* ─── Ombres ─── */
  --shadow-xs:              0 1px 2px rgba(0, 0, 0, 0.04);
  --shadow-sm:              0 1px 3px rgba(0, 0, 0, 0.08);
  --shadow-md:              0 4px 12px rgba(0, 0, 0, 0.10);
  --shadow-lg:              0 8px 24px rgba(0, 0, 0, 0.12);
  --shadow-xl:              0 16px 48px rgba(0, 0, 0, 0.16);
  --shadow-focus:           0 0 0 3px rgba(45, 106, 79, 0.35);
  --shadow-error-focus:     0 0 0 3px rgba(220, 53, 69, 0.25);

  /* ─── Transitions & Animations ─── */
  --duration-fast:          150ms;
  --duration-normal:        250ms;
  --duration-slow:          400ms;
  --duration-very-slow:     600ms;
  --ease-default:           cubic-bezier(0.4, 0, 0.2, 1);
  --ease-in:                cubic-bezier(0.4, 0, 1, 1);
  --ease-out:               cubic-bezier(0, 0, 0.2, 1);
  --ease-bounce:            cubic-bezier(0.34, 1.56, 0.64, 1);

  --transition-fast:        var(--duration-fast) var(--ease-default);
  --transition-normal:      var(--duration-normal) var(--ease-default);
  --transition-slow:        var(--duration-slow) var(--ease-default);

  /* ─── Z-index ─── */
  --z-base:                 0;
  --z-dropdown:             100;
  --z-sticky:               200;
  --z-header:               300;
  --z-overlay:              400;
  --z-modal:                500;
  --z-toast:                600;
  --z-tooltip:              700;

  /* ─── Tailles fixes ─── */
  --tab-bar-height:         64px;
  --header-height:          56px;
  --touch-target-min:       44px;
  --avatar-sm:              32px;
  --avatar-md:              40px;
  --avatar-lg:              56px;
  --container-max:          480px;   /* Max-width pour le contenu mobile-first */

  /* ─── Breakpoints (reference only, used in media queries) ─── */
  /* --bp-sm: 375px  (base mobile, pas besoin de media query) */
  /* --bp-md: 768px  (tablette) */
  /* --bp-lg: 1024px (desktop) */
}

/* ─── Focus visible global ─── */
*:focus-visible {
  outline: var(--border-width-strong) solid var(--color-primary);
  outline-offset: 2px;
  box-shadow: var(--shadow-focus);
}

/* ─── Animations réutilisables ─── */
@keyframes fadeIn {
  from { opacity: 0; }
  to   { opacity: 1; }
}

@keyframes fadeOut {
  from { opacity: 1; }
  to   { opacity: 0; }
}

@keyframes slideUp {
  from { transform: translateY(100%); opacity: 0; }
  to   { transform: translateY(0);    opacity: 1; }
}

@keyframes slideDown {
  from { transform: translateY(-16px); opacity: 0; }
  to   { transform: translateY(0);     opacity: 1; }
}

@keyframes scaleIn {
  from { transform: scale(0.9); opacity: 0; }
  to   { transform: scale(1);   opacity: 1; }
}

@keyframes bounceIn {
  0%   { transform: scale(0.3); opacity: 0; }
  50%  { transform: scale(1.08); }
  70%  { transform: scale(0.95); }
  100% { transform: scale(1); opacity: 1; }
}

@keyframes pointsPop {
  0%   { transform: translateY(0) scale(1); opacity: 1; }
  60%  { transform: translateY(-20px) scale(1.2); opacity: 1; }
  100% { transform: translateY(-32px) scale(1); opacity: 0; }
}

@keyframes shake {
  0%, 100% { transform: translateX(0); }
  20%      { transform: translateX(-4px); }
  40%      { transform: translateX(4px); }
  60%      { transform: translateX(-3px); }
  80%      { transform: translateX(3px); }
}

@keyframes pulse {
  0%, 100% { transform: scale(1); }
  50%      { transform: scale(1.05); }
}

/* ─── Préférence mouvement réduit ─── */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}
