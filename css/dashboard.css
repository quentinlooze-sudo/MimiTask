/* ==============================================
   MimiTask — Ecran Dashboard
   Barre equilibre, scores, mascotte, streaks, recompense, stats
   ============================================== */

/* --- Layout dashboard --- */
.dashboard {
  display: flex; flex-direction: column; gap: 14px;
  padding: 0 var(--space-md) var(--space-2xl);
}
.dashboard__section { display: flex; flex-direction: column; gap: var(--space-sm); }
.dashboard__section-title {
  font-family: var(--font-family-accent);
  font-size: var(--font-size-sm); font-weight: 700;
  text-transform: uppercase; color: var(--color-text-secondary); letter-spacing: 0.05em;
}

/* --- Barre d'equilibre (dans une carte blanche) --- */
.balance-card {
  background-color: var(--color-surface);
  border-radius: var(--radius-lg);
  padding: 20px;
  box-shadow: var(--shadow-md);
}
.balance__label-top {
  font-size: 13px;
  font-weight: var(--font-weight-semibold);
  font-family: var(--font-family-heading);
  color: var(--color-text-secondary);
  text-align: center;
  margin-bottom: var(--space-sm);
}
.balance__bar {
  height: 14px; border-radius: 7px;
  overflow: hidden; display: flex; position: relative;
  background-color: rgba(255, 255, 255, 0.15);
}
.balance__fill--a {
  background: linear-gradient(90deg, #52B788, #95D5B2);
  transition: width 500ms ease; height: 100%;
}
.balance__fill--b {
  background: linear-gradient(90deg, #E76F51, #F4A261);
  transition: width 500ms ease; height: 100%;
}
.balance__labels {
  display: flex; justify-content: space-between;
  font-size: 13px; font-weight: var(--font-weight-bold);
}
.balance__label { display: flex; align-items: center; gap: var(--space-xs); }
.balance__label:first-child { color: #95D5B2; }
.balance__label:last-child { color: #F4A261; }
.balance__dot {
  width: 12px; height: 12px; border-radius: var(--radius-full); flex-shrink: 0;
}
.balance__dot--a { background-color: #95D5B2; }
.balance__dot--b { background-color: #F4A261; }

/* --- Scores --- */
.scores { display: flex; gap: var(--space-sm); }
.score-card {
  flex: 1; text-align: center; padding: var(--space-md);
  background-color: rgba(255, 255, 255, 0.08); box-shadow: none;
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: var(--radius-md);
}
.score-card__value { font-family: var(--font-family-accent); font-size: var(--font-size-xl); font-weight: 700; color: #FFFFFF; }
.score-card__label { font-size: var(--font-size-sm); color: var(--color-text-secondary); }
.score-card--couple {
  border: 2px solid rgba(255, 255, 255, 0.25);
  background-color: rgba(255, 255, 255, 0.12);
}

/* --- Mascotte (terrarium chaud) --- */
.mascot {
  display: flex; flex-direction: column; align-items: center;
  gap: var(--space-sm); padding: var(--space-lg);
  background: rgba(255, 255, 255, 0.06); box-shadow: none;
  border: 1px solid rgba(255, 255, 255, 0.08);
  border-radius: var(--radius-lg);
}
.mascot__pet { width: 120px; height: auto; }
/* Couleurs paramétrables de la mascotte */
.mascot__pet svg { width: 120px; height: auto; display: block; }
.mimi-body { fill: var(--mascot-color, #52B788); }
.mimi-belly { fill: var(--mascot-belly, #95D5B2); }
.mimi-arm { stroke: var(--mascot-color, #52B788); stroke-width: 5; stroke-linecap: round; fill: none; }
.mimi-crest { stroke: var(--mascot-color, #52B788); stroke-width: 1.5; stroke-linejoin: round; }
.mimi-mouth-outline { stroke: var(--mascot-color, #52B788); }

/* Animations par humeur */
.mascot__pet--excited {
  animation: dino-bounce 600ms ease infinite; transform-origin: center bottom;
}
.mascot__pet--happy {
  animation: dino-float 2.5s ease-in-out infinite;
}
.mascot__pet--neutral {
  animation: dino-breathe 3s ease-in-out infinite; transform-origin: center bottom;
}
.mascot__pet--worried {
  animation: dino-tremble 200ms ease-in-out infinite;
}
.mascot__pet--sad {
  animation: dino-droop 3s ease-in-out infinite; transform-origin: center bottom;
}

@keyframes dino-bounce {
  0%, 100% { transform: translateY(0); }
  40% { transform: translateY(-10px); }
  60% { transform: translateY(-8px); }
  80% { transform: translateY(2px); }
}
@keyframes dino-float {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-8px); }
}
@keyframes dino-breathe {
  0%, 100% { transform: scaleY(1) scaleX(1); }
  50% { transform: scaleY(1.04) scaleX(0.97); }
}
@keyframes dino-tremble {
  0%, 100% { transform: translateX(0); }
  25% { transform: translateX(-2px); }
  75% { transform: translateX(2px); }
}
@keyframes dino-droop {
  0%, 100% { transform: translateY(0) rotate(0deg); }
  50% { transform: translateY(4px) rotate(-3deg); }
}
.mascot__speech {
  font-size: 15px; text-align: center;
  color: var(--color-text); font-weight: var(--font-weight-semibold);
  font-style: italic;
}

/* --- Streaks (carte avec feu pulsant) --- */
.streak {
  display: flex; align-items: center; gap: var(--space-md); padding: var(--space-md);
  background-color: rgba(255, 255, 255, 0.08); box-shadow: none;
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: var(--radius-md);
}
.streak__info { display: flex; flex-direction: column; }
.streak__count { font-weight: 700; }
.streak__record { font-size: var(--font-size-sm); color: var(--color-text-secondary); }

/* --- Prochaine recompense --- */
.next-reward {
  display: flex; align-items: center; gap: var(--space-md); padding: var(--space-md);
  background-color: rgba(255, 255, 255, 0.08); box-shadow: none;
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: var(--radius-md);
}
.next-reward__info { display: flex; flex-direction: column; gap: 4px; flex: 1; }
.next-reward__name { font-weight: var(--font-weight-bold); font-size: var(--font-size-base); }
.next-reward__remaining { font-size: var(--font-size-sm); color: var(--color-text-secondary); }
.next-reward__progress {
  height: 8px; border-radius: var(--radius-full);
  background-color: rgba(255, 255, 255, 0.15); overflow: hidden;
}
.next-reward__progress-fill {
  height: 100%; background: linear-gradient(90deg, #7209B7, #9D4EDD);
  border-radius: var(--radius-full); transition: width 500ms ease;
  position: relative; overflow: hidden;
}

/* --- Stats hebdomadaires --- */
.weekly-stats { display: flex; gap: var(--space-sm); }
.stat-item {
  flex: 1; text-align: center; padding: var(--space-md);
  background-color: rgba(255, 255, 255, 0.08); box-shadow: none;
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: var(--radius-md);
}
.stat-item__value { font-family: var(--font-family-accent); font-size: var(--font-size-lg); font-weight: 700; color: #FFFFFF; }
.stat-item__label { font-size: var(--font-size-xs); color: var(--color-text-secondary); }
